Polymer model
===

Created from Polymer codebase

![UML diagram](class-diagram.png?raw=true)

Типы хранилищ
---

- __data: актуальное состояние
- __dataPending: отложенное состояние: хранятся те свойства, которые устанавливаются на данный момент
- __dataOld: предыдущее состояние: при изменении свойства, предыдущее значение записывается в данное хранилище


Как происходит установка свойства
---

- сравниваются новое и предыдущее значения
  - если равны, то прерывается: не нужна перезапись
- запоминается предыдущее значения свойства 
```this.__dataOld[property] = old```
- установка нового значения в хранилище: this.__data
- установка нового значения в отложенное хранилище: this.__dataPending
- инвалидация свойств
- вызов коллбэка об изменении свойств: this.__propertiesChanged (вызывается каждый раз, когда изменяется любое объявленное свойство)
  - перебор всех свойств в отложенном хранилище
  - вызов всех функций-эффектов для каждого свойства: runEffects


Вызов эффекта для калькулируемого свойства
---

- запуск метода, вычисляющего калькулируемое свойство
- установка значения в отложенное хранилище: повторение процесса изменения свойства


Формат калькулируемого свойства
---

```computed: 'someComputed(a, b)'```

позволяет хранить и передавать название функции и параметров как строки
